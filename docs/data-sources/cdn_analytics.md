---
subcategory: "Content Delivery Network (CDN)"
layout: "huaweicloud"
page_title: "HuaweiCloud: huaweicloud_cdn_analytics"
description: |-
  Use this data source to get CDN domain statistics.
---

# huaweicloud_cdn_analytics

Use this data source to get CDN domain statistics.

## Example Usage

```hcl
variable "start_time" {}
variable "end_time" {}
variable "domain_name" {}
variable "stat_type" {}

data "huaweicloud_cdn_analytics" "test" {
  action      = "detail"
  start_time  = var.start_time
  end_time    = var.end_time
  domain_name = var.domain_name
  stat_type   = var.stat_type
}
```

## Argument Reference

The following arguments are supported:

* `action` - (Required, String) Specifies the action name. Possible values are **summary** and **detail**.
  + **summary**: querying summary data.
  + **detail**: querying data details.

* `start_time` - (Required, Int) Specifies the start timestamp of the query, in millisecond. This parameter must be
  specified together with the end timestamp. The query interval is left-closed and right-open.
  + If the value of **interval** is `300`, set this parameter to a multiple of `5` minutes, for example, `1631240100000`,
    which means `2021-09-10 10:15:00`.
  + If the value of **interval** is `3600`, set this parameter to a multiple of `1` hour, for example, `1631239200000`,
    which means `2021-09-10 10:00:00`.
  + If the value of **interval** is `86400`, set this parameter to `00:00:00` (GMT+08:00), for example, `1631203200000`,
    which means `2021-09-10 00:00:00`.

* `end_time` - (Required, Int) Specifies the end timestamp of the query, in millisecond. This parameter must be
  specified together with the start timestamp. The query interval is left-closed and right-open.
  + If the value of **interval** is `300`, set this parameter to a multiple of `5` minutes, for example, `1631243700000`,
    which means `2021-09-10 11:15:00`.
  + If the value of **interval** is `3600`, set this parameter to a multiple of `1` hour, for example, `1631325600000`,
    which means `2021-09-11 10:00:00`.
  + If the value of **interval** is `86400`, set this parameter to `00:00:00` (GMT+08:00), for example, `1631376000000`,
    which means `2021-09-12 00:00:00`.

* `domain_name` - (Required, String) Specifies the domain name list. Use commas (,) to separate multiple domain names,
  for example, `www.test1.com,www.test2.com`. **all** indicates that all domain names are queried. If no data is
  available for a domain name within the query period, no information about the domain name is returned.

* `stat_type` - (Required, String) Specifies the data indicator type for querying CDN statistics. Use commas (,) to
  separate multiple types.
  + Network resource consumption statistics: **bw** (bandwidth), **flux** (traffic), **bs_bw** (retrieval bandwidth),
    **bs_flux** (retrieval traffic)

  + Access statistics: **req_num** (total number of requests), **hit_num** (number of hits),
    **bs_num** (number of content retrieval requests), **bs_fail_num** (number of failed content retrieval requests),
    **hit_flux** (traffic generated by requests that hit the caches).

  + HTTP status code statistics (one or more types can be returned): **http_code_2xx** (status codes 2xx),
    **http_code_3xx** (status codes 3xx), **http_code_4xx** (status codes 4xx), **http_code_5xx** (status codes 5xx),
    **bs_http_code_2xx** (retrieval status codes 2xx), **bs_http_code_3xx** (retrieval status codes 3xx),
    **bs_http_code_4xx** (retrieval status codes 4xx), **bs_http_code_5xx** (retrieval status codes 5xx),
    **status_code_2xx** (details of status code 2xx), **status_code_3xx** (details of status code 3xx),
    **status_code_4xx** (details of status code 4xx), **status_code_5xx** (details of status code 5xx),
    **bs_status_code_2xx** (details of retrieval status code 2xx),
    **bs_status_code_3xx** (details of retrieval status code 3xx),
    **bs_status_code_4xx** (details of retrieval status code 4xx),
    **bs_status_code_5xx** (details of retrieval status code 5xx).
    **status_code** and **bs_status_code** cannot be queried at the same time.

* `interval` - (Optional, Int) Specifies the query interval, in seconds. The value can be `300` (`5` minutes),
  `3600` (`1` hour), or `86400` (`1` day). If this parameter is not specified, the system uses the smallest value
  corresponding to the queried time span by default.

* `group_by` - (Optional, String) Specifies the data grouping mode. This parameter can be set to **domain**.
  By default, data is not grouped.

* `service_area` - (Optional, String) Specifies the service area. The options are **mainland_china** (Chinese mainland)
  and **outside_mainland_china** (outside the Chinese mainland). Defaults to **mainland_china**.
  This parameter is invalid for querying content retrieval metrics.

* `enterprise_project_id` - (Optional, String) Specifies the ID of the enterprise project that the resource belongs to.
  This parameter is valid only for enterprise users. The value **all** indicates all projects.
  This parameter is mandatory when you are an IAM user.

## Attribute Reference

In addition to all arguments above, the following attributes are exported:

* `id` - The data source ID.

* `result` - Indicated the data organized according to the specified grouping mode. The value of this field is a
  string in standard object format.
